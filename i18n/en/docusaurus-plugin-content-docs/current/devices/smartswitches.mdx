---
sidebar_position: 1
---


import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import SponsorshipRequired from "../_sponsorship_required.mdx";
import PhaseSwitchSupported from "../_phase_switch_supported.mdx";
import DeviceConfig from "../../../../../src/components/DeviceConfig";
import DeviceFeatures from "../../../../../src/components/DeviceFeatures";
import DeviceFeatureFilter from "../../../../../src/components/DeviceFeatureFilter";

# Smart Switches

Switchable sockets and smart-home switches supported by evcc can be operated in one of two modes:

- Charger Mode (default)
- Static-Switch Mode

_Charger Mode_ allows use of the Switchable Socket to control the charging of battery-operated devices such as e-Motorcycles, e-Bikes, etc).
Charging current is measured and displayed by evcc, and the device is considered "charged" when power draw drops to a trickle (i.e `power < standbypower`)

In contrast, _Static-Switch Mode_ can be used to easily control consumers such as heat pumps, air conditioning systems, and more.
The status of the device is determined by whether the Socket is on or off (on = "charging", off = "charged").

:::note
When using _Static-Switch Mode_, it is recommended to define a separate custom _Meter_ in order to display meaningful performance information.
:::

For all Switchable Sockets, the _mode_ depends on how `standbypower` is configured.

If the value of `standbypower` is greater than or equal to 0 (`standbypower >= 0`), then the Socket uses _Charger Mode_,
and the set value is treated as the threshold value (in Watts).
So long as the measured socket power is above this threshold value, the device is treated as "charging". If the power falls below this value (usually when the device is trickle-charging when its battery is full), it is treated as "charged" / complete.

If `standbypower` is set to a negative value, then the Socket uses _Static-Switch Mode_.
:::info
The Charging Point parameter `phases` **must** be set to **1** when using a switchable socket to ensure proper control.

```yaml
# loadpoint describes the charger, charge meter and connected vehicle
loadpoints:
  - title: Shelly # display name for UI
    charger: my_charger # charger
    vehicle: audi
    mode: pv
---
mincurrent: 9 # 9A*220V=1980W minimum charge current (default 6A)
maxcurrent: 10 # 10A*220V=2200W maximum charge current (default 16A)
phases: 1 # ev phases (default 3)
```

:::



---

<!-- AUTO-GENERATED CONTENT BELOW THIS LINE -->

<!-- AUTO-GENERATED FROM TEMPLATE - PLEASE EDIT HERE https://github.com/evcc-io/evcc/tree/master/templates/definition/smartswitch  -->

## Switchable sockets

### AVM FritzDECT

<DeviceConfig code={`chargers:
    - name: my_smartswitch
      type: template
      template: fritzdect
      uri: https://fritz.box # HTTP(S) address (optional)
      user: # User account (e.g. email address, user id, etc.)
      password: # Password of the user account (use single quotes in case of leading zeros)
      ain: 307788992233 # The AIN is printed on the type label on the back of the device. Embed it in double quotes in case of leading zeroes.
      standbypower: 15 # Power values above this value will be considered as charging pow (optional)`} advanced={`chargers:
    - name: my_smartswitch
      type: template
      template: fritzdect
      uri: https://fritz.box # HTTP(S) address (optional)
      user: # User account (e.g. email address, user id, etc.)
      password: # Password of the user account (use single quotes in case of leading zeros)
      ain: 307788992233 # The AIN is printed on the type label on the back of the device. Embed it in double quotes in case of leading zeroes.
      standbypower: 15 # Power values above this value will be considered as charging pow (optional)
      integrateddevice: # Integrated device (no vehicle connection) (optional)
      heating: # Heating device (°C instead of %) (optional)
      icon: # Icon as shown in user interface (optional)`} />



<!-- AUTO-GENERATED FROM TEMPLATE - PLEASE EDIT HERE https://github.com/evcc-io/evcc/tree/master/templates/definition/smartswitch  -->

### Homematic IP 

<DeviceConfig code={`chargers:
    - name: my_smartswitch
      type: template
      template: homematic
      host: 192.0.2.2 # IP address or hostname
      port: 2010 # Port (optional)
      device: '0001EE89AAD848' # Homematic device id like shown in the CCU web user interface.
      user: # User account (e.g. email address, user id, etc.) (optional)
      password: # Password of the user account (use single quotes in case of leading zeros) (optional)
      standbypower: 15 # Power values above this value will be considered as charging pow (optional)`} advanced={`chargers:
    - name: my_smartswitch
      type: template
      template: homematic
      host: 192.0.2.2 # IP address or hostname
      port: 2010 # Port (optional)
      device: '0001EE89AAD848' # Homematic device id like shown in the CCU web user interface.
      user: # User account (e.g. email address, user id, etc.) (optional)
      password: # Password of the user account (use single quotes in case of leading zeros) (optional)
      standbypower: 15 # Power values above this value will be considered as charging pow (optional)
      meterchannel: 6 # Homematic meter channel number like shown in the CCU web user interface.
      switchchannel: 3 # Homematic switch actor channel number like shown in the CCU web user interface.
      cache: 1s # In case of duty cycle problems try a cache setting of 30s. (optional)
      integrateddevice: # Integrated device (no vehicle connection) (optional)
      heating: # Heating device (°C instead of %) (optional)
      icon: # Icon as shown in user interface (optional)`} />



<!-- AUTO-GENERATED FROM TEMPLATE - PLEASE EDIT HERE https://github.com/evcc-io/evcc/tree/master/templates/definition/smartswitch  -->

### HomeWizard 

<DeviceConfig code={`chargers:
    - name: my_smartswitch
      type: template
      template: homewizard
      host: 192.0.2.2 # IP address or hostname
      standbypower: 15 # Power values above this value will be considered as charging pow (optional)`} advanced={`chargers:
    - name: my_smartswitch
      type: template
      template: homewizard
      host: 192.0.2.2 # IP address or hostname
      standbypower: 15 # Power values above this value will be considered as charging pow (optional)
      integrateddevice: # Integrated device (no vehicle connection) (optional)
      heating: # Heating device (°C instead of %) (optional)
      icon: # Icon as shown in user interface (optional)`} />



<!-- AUTO-GENERATED FROM TEMPLATE - PLEASE EDIT HERE https://github.com/evcc-io/evcc/tree/master/templates/definition/smartswitch  -->

### myStrom Switch

<DeviceConfig code={`chargers:
    - name: my_smartswitch
      type: template
      template: mystrom
      host: 192.0.2.2 # IP address or hostname
      standbypower: 15 # Power values above this value will be considered as charging pow (optional)`} advanced={`chargers:
    - name: my_smartswitch
      type: template
      template: mystrom
      host: 192.0.2.2 # IP address or hostname
      standbypower: 15 # Power values above this value will be considered as charging pow (optional)
      integrateddevice: # Integrated device (no vehicle connection) (optional)
      heating: # Heating device (°C instead of %) (optional)
      icon: # Icon as shown in user interface (optional)`} />



<!-- AUTO-GENERATED FROM TEMPLATE - PLEASE EDIT HERE https://github.com/evcc-io/evcc/tree/master/templates/definition/smartswitch  -->

### Shelly 

<DeviceConfig code={`chargers:
    - name: my_smartswitch
      type: template
      template: shelly
      host: 192.0.2.2 # IP address or hostname
      user: # User account (e.g. email address, user id, etc.) (optional)
      password: # Password of the user account (use single quotes in case of leading zeros) (optional)
      channel: 0 # optional
      standbypower: 15 # Power values above this value will be considered as charging pow (optional)`} advanced={`chargers:
    - name: my_smartswitch
      type: template
      template: shelly
      host: 192.0.2.2 # IP address or hostname
      user: # User account (e.g. email address, user id, etc.) (optional)
      password: # Password of the user account (use single quotes in case of leading zeros) (optional)
      channel: 0 # optional
      standbypower: 15 # Power values above this value will be considered as charging pow (optional)
      integrateddevice: # Integrated device (no vehicle connection) (optional)
      heating: # Heating device (°C instead of %) (optional)
      icon: # Icon as shown in user interface (optional)`} />



<!-- AUTO-GENERATED FROM TEMPLATE - PLEASE EDIT HERE https://github.com/evcc-io/evcc/tree/master/templates/definition/smartswitch  -->

### Tasmota single phase

<DeviceConfig code={`chargers:
    - name: my_smartswitch
      type: template
      template: tasmota
      host: 192.0.2.2 # IP address or hostname
      user: # admin is default (optional)
      password: # Password of the user account (use single quotes in case of leading zeros) (optional)
      channel: 1 # Relaychannel number (1-8)
      standbypower: 15 # Power values above this value will be considered as charging pow (optional)`} advanced={`chargers:
    - name: my_smartswitch
      type: template
      template: tasmota
      host: 192.0.2.2 # IP address or hostname
      user: # admin is default (optional)
      password: # Password of the user account (use single quotes in case of leading zeros) (optional)
      channel: 1 # Relaychannel number (1-8)
      standbypower: 15 # Power values above this value will be considered as charging pow (optional)
      integrateddevice: # Integrated device (no vehicle connection) (optional)
      heating: # Heating device (°C instead of %) (optional)
      icon: # Icon as shown in user interface (optional)`} />



<!-- AUTO-GENERATED FROM TEMPLATE - PLEASE EDIT HERE https://github.com/evcc-io/evcc/tree/master/templates/definition/smartswitch  -->

### TP-Link

#### H-Series Smart Plug

<DeviceConfig code={`chargers:
    - name: my_smartswitch
      type: template
      template: tplink
      host: 192.0.2.2 # IP address or hostname
      standbypower: 15 # Power values above this value will be considered as charging pow (optional)`} advanced={`chargers:
    - name: my_smartswitch
      type: template
      template: tplink
      host: 192.0.2.2 # IP address or hostname
      standbypower: 15 # Power values above this value will be considered as charging pow (optional)
      integrateddevice: # Integrated device (no vehicle connection) (optional)
      heating: # Heating device (°C instead of %) (optional)
      icon: # Icon as shown in user interface (optional)`} />



<!-- AUTO-GENERATED FROM TEMPLATE - PLEASE EDIT HERE https://github.com/evcc-io/evcc/tree/master/templates/definition/smartswitch  -->

#### Tapo P-Series Smart Plug

<DeviceConfig code={`chargers:
    - name: my_smartswitch
      type: template
      template: tapo
      host: 192.0.2.2 # IP address or hostname
      user: # User account (e.g. email address, user id, etc.)
      password: # Password of the user account (use single quotes in case of leading zeros)
      standbypower: 15 # Power values above this value will be considered as charging pow (optional)`} advanced={`chargers:
    - name: my_smartswitch
      type: template
      template: tapo
      host: 192.0.2.2 # IP address or hostname
      user: # User account (e.g. email address, user id, etc.)
      password: # Password of the user account (use single quotes in case of leading zeros)
      standbypower: 15 # Power values above this value will be considered as charging pow (optional)
      integrateddevice: # Integrated device (no vehicle connection) (optional)
      heating: # Heating device (°C instead of %) (optional)
      icon: # Icon as shown in user interface (optional)`} />



